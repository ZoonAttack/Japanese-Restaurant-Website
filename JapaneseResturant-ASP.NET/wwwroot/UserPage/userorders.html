<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order History - 弁当クリック</title>
    <link rel="stylesheet" href="userorders.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="errorBox" style="display: none; color: red; margin-top: 10px;"></div>
    <!-- Navigation -->
    <header class="navbar">
        <div class="container">
            <div class="navbar-left">
                <a href="index.html" class="logo">
                    <img src="https://static.tildacdn.info/tild6462-3531-4663-b161-656538663737/304.svg" alt="弁当クリック" width="140">
                </a>
            </div>
            <nav class="navbar-center">
                <ul class="nav-list">
                    <li><a href="/UserPage/dashboard.html" class="nav-link">Home</a></li>
                    <li><a href="/UserPage/dashboard.html" class="nav-link">Menu</a></li>
                    <li><a href="userorders.html" class="nav-link active">Orders</a></li>
                </ul>
            </nav>
            <div class="navbar-right">
                <button class="btn btn-primary" id="logoutBtn">Log Out</button>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
        <div class="mobile-menu" id="mobileMenu">
            <ul class="mobile-nav-list">
                <li><a href="index.html" class="mobile-nav-link">Home</a></li>
                <li><a href="index.html#menu" class="mobile-nav-link">Menu</a></li>
                <li><a href="userorders.html" class="mobile-nav-link">Orders</a></li>
            </ul>
        </div>
    </header>

    <!-- Orders Header -->
    <section class="orders-header">
        <div class="container">
            <h1 class="section-title">Your <span class="accent-color">Orders</span></h1>
            <p class="section-subtitle">View and track your order history</p>
        </div>
    </section>

    <!-- Orders Content -->
    <section class="orders-content">
        <div class="container">
            <div class="orders-toolbar">
                <div class="orders-search">
                    <input type="text" id="orderSearch" placeholder="Search orders..." class="search-input">
                </div>
                <div class="orders-filter">
                    <select id="orderFilter" class="filter-select">
                        <option value="all">All Orders</option>
                        <option value="recent">Recent Orders</option>
                        <option value="oldest">Oldest First</option>
                    </select>
                </div>
            </div>

            <div class="orders-list" id="ordersList">
                <!-- Orders will be dynamically added here -->
                <div class="empty-orders" id="emptyOrders">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 17h6M9 12h6M9 7h6M5 22h14a2 2 0 002-2V4a2 2 0 00-2-2H5a2 2 0 00-2 2v16a2 2 0 002 2z"></path>
                    </svg>
                    <p>You don't have any orders yet</p>
                    <a href="/UserPage/dashboard.html" class="btn btn-primary">Order Now</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Order Details Modal -->
    <div class="modal" id="orderModal">
        <div class="modal-overlay"></div>
        <div class="modal-content order-modal-content">
            <div class="modal-header">
                <h3>Order Details</h3>
                <button class="modal-close" id="closeOrderModal">&times;</button>
            </div>
            <div class="modal-body" id="orderModalBody">
                <!-- Order details will be dynamically added here -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="closeOrderDetails">Close</button>
                <button class="btn btn-primary" id="reorderBtn">Reorder</button>
            </div>
        </div>
    </div>

    <!-- Reorder Confirmation Modal -->
    <div class="modal" id="reorderModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Reorder</h3>
                <button class="modal-close" id="closeReorderModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Would you like to add these items to your cart?</p>
                <div id="reorderItemsList" class="reorder-items-list">
                    <!-- Items will be dynamically added here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelReorder">Cancel</button>
                <button class="btn btn-primary" id="confirmReorder">Add to Cart</button>
            </div>
        </div>
    </div>

    <!-- Reorder Success Toast -->
    <div class="toast" id="reorderToast">
        <div class="toast-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
        </div>
        <div class="toast-content">
            <p>Items added to cart!</p>
        </div>
        <div class="toast-actions">
            <a href="/UserPage/dashboard.html" class="btn btn-sm">View Cart</a>
        </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div class="modal" id="logoutModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Logout</h3>
                <button class="modal-close" id="closeLogoutModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to log out?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelLogout">Cancel</button>
                <button class="btn btn-primary" id="confirmLogout">Confirm</button>
            </div>
        </div>
    </div>

    <script type="module" src="/UserPage/userorders.js"></script>
</body>
</html>